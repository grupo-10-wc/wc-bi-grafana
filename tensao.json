{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "grafana",
          "uid": "-- Grafana --"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      }
    ]
  },
  "description": "Dashboard para an√°lise de qualidade de tens√£o el√©trica - Monitoramento de picos, depress√µes e dispositivos afetados",
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 1,
  "id": 0,
  "links": [],
  "panels": [
    {
      "fieldConfig": {
        "defaults": {},
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 1,
      "options": {
        "code": {
          "language": "plaintext",
          "showLineNumbers": false,
          "showMiniMap": false
        },
        "content": "# üìä Monitoramento de Qualidade de Tens√£o El√©trica\n\nAn√°lise em tempo real da qualidade de tens√£o para **Rack B - Sala de Servidores** usando sensor **PZEM-004T**.\n\n**Tens√£o Nominal**: 220V | **Faixa Normal**: 201V - 231V (ANEEL) | **Cr√≠tico**: < 187V ou > 242V\n\nüü¢ **Normal** | üü° **Pico/Depress√£o Moderado** | üî¥ **Cr√≠tico**",
        "mode": "markdown"
      },
      "pluginVersion": "12.2.1",
      "title": "Informa√ß√µes do Dashboard",
      "type": "text"
    },
    {
      "datasource": {
        "type": "marcusolsson-json-datasource",
        "uid": "${DS_JSON_API}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "red",
                "value": 0
              },
              {
                "color": "orange",
                "value": 187
              },
              {
                "color": "yellow",
                "value": 201
              },
              {
                "color": "green",
                "value": 205
              },
              {
                "color": "yellow",
                "value": 231
              },
              {
                "color": "orange",
                "value": 238
              },
              {
                "color": "red",
                "value": 242
              }
            ]
          },
          "unit": "volt"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 6,
        "x": 0,
        "y": 5
      },
      "id": 2,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "center",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "value_and_name",
        "wideLayout": true
      },
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "cacheDurationSeconds": 300,
          "datasource": {
            "type": "marcusolsson-json-datasource",
            "uid": "${DS_JSON_API}"
          },
          "fields": [
            {
              "jsonPath": "$.body.statistics.media",
              "name": "Tens√£o M√©dia",
              "type": "number"
            }
          ],
          "method": "GET",
          "queryParams": "location=Rack B - Sala de Servidores",
          "refId": "A",
          "url": "${BASE_URL}/tensao/estatisticas",
          "urlPath": "/tensao/estatisticas"
        }
      ],
      "title": "Tens√£o M√©dia",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "marcusolsson-json-datasource",
        "uid": "${DS_JSON_API}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 2,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              },
              {
                "color": "yellow",
                "value": 70
              },
              {
                "color": "orange",
                "value": 85
              },
              {
                "color": "red",
                "value": 95
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 6,
        "x": 6,
        "y": 5
      },
      "id": 3,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "center",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "value_and_name",
        "wideLayout": true
      },
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "cacheDurationSeconds": 300,
          "datasource": {
            "type": "marcusolsson-json-datasource",
            "uid": "${DS_JSON_API}"
          },
          "fields": [
            {
              "jsonPath": "$.body.quality.quality_score",
              "name": "Score de Qualidade",
              "type": "number"
            }
          ],
          "method": "GET",
          "queryParams": "location=Rack B - Sala de Servidores",
          "refId": "A",
          "url": "${BASE_URL}/tensao/estatisticas",
          "urlPath": "/tensao/estatisticas"
        }
      ],
      "title": "Score de Qualidade",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "marcusolsson-json-datasource",
        "uid": "${DS_JSON_API}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              },
              {
                "color": "yellow",
                "value": 10
              },
              {
                "color": "orange",
                "value": 30
              },
              {
                "color": "red",
                "value": 50
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 6,
        "x": 12,
        "y": 5
      },
      "id": 4,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "center",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "value_and_name",
        "wideLayout": true
      },
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "cacheDurationSeconds": 300,
          "datasource": {
            "type": "marcusolsson-json-datasource",
            "uid": "${DS_JSON_API}"
          },
          "fields": [
            {
              "jsonPath": "$.body.count",
              "name": "Total de Picos",
              "type": "number"
            }
          ],
          "method": "GET",
          "queryParams": "location=Rack B - Sala de Servidores",
          "refId": "A",
          "url": "${BASE_URL}/tensao/picos",
          "urlPath": "/tensao/picos"
        }
      ],
      "title": "Total de Picos de Tens√£o",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "marcusolsson-json-datasource",
        "uid": "${DS_JSON_API}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              },
              {
                "color": "yellow",
                "value": 10
              },
              {
                "color": "orange",
                "value": 30
              },
              {
                "color": "red",
                "value": 50
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 6,
        "x": 18,
        "y": 5
      },
      "id": 5,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "center",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "value_and_name",
        "wideLayout": true
      },
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "cacheDurationSeconds": 300,
          "datasource": {
            "type": "marcusolsson-json-datasource",
            "uid": "${DS_JSON_API}"
          },
          "fields": [
            {
              "jsonPath": "$.body.count",
              "name": "Total de Depress√µes",
              "type": "number"
            }
          ],
          "method": "GET",
          "queryParams": "location=Rack B - Sala de Servidores",
          "refId": "A",
          "url": "${BASE_URL}/tensao/depressoes",
          "urlPath": "/tensao/depressoes"
        }
      ],
      "title": "Total de Depress√µes de Tens√£o",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "marcusolsson-json-datasource",
        "uid": "${DS_JSON_API}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "Tens√£o (V)",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 20,
            "gradientMode": "opacity",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "smooth",
            "lineWidth": 2,
            "pointSize": 4,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "line+area"
            }
          },
          "decimals": 1,
          "mappings": [],
          "max": 250,
          "min": 180,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "transparent",
                "value": 0
              },
              {
                "color": "red",
                "value": 187
              },
              {
                "color": "transparent",
                "value": 201
              },
              {
                "color": "transparent",
                "value": 231
              },
              {
                "color": "red",
                "value": 242
              }
            ]
          },
          "unit": "volt"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 10,
        "w": 24,
        "x": 0,
        "y": 12
      },
      "id": 6,
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "min",
            "max",
            "last"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "cacheDurationSeconds": 300,
          "datasource": {
            "type": "marcusolsson-json-datasource",
            "uid": "${DS_JSON_API}"
          },
          "fields": [
            {
              "jsonPath": "$.body.data[*].ts",
              "name": "Time",
              "type": "time"
            },
            {
              "jsonPath": "$.body.data[*].tensao",
              "name": "Tens√£o",
              "type": "number"
            }
          ],
          "method": "GET",
          "queryParams": "location=Rack B - Sala de Servidores",
          "refId": "A",
          "url": "${BASE_URL}/tensao/geral",
          "urlPath": "/tensao/geral"
        }
      ],
      "title": "Hist√≥rico de Tens√£o - S√©rie Temporal",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "marcusolsson-json-datasource",
        "uid": "${DS_JSON_API}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 1,
          "mappings": [],
          "max": 250,
          "min": 180,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "red",
                "value": 0
              },
              {
                "color": "orange",
                "value": 187
              },
              {
                "color": "yellow",
                "value": 201
              },
              {
                "color": "green",
                "value": 205
              },
              {
                "color": "yellow",
                "value": 231
              },
              {
                "color": "orange",
                "value": 238
              },
              {
                "color": "red",
                "value": 242
              }
            ]
          },
          "unit": "volt"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 0,
        "y": 22
      },
      "id": 7,
      "options": {
        "minVizHeight": 75,
        "minVizWidth": 75,
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showThresholdLabels": true,
        "showThresholdMarkers": true,
        "sizing": "auto",
        "text": {}
      },
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "cacheDurationSeconds": 300,
          "datasource": {
            "type": "marcusolsson-json-datasource",
            "uid": "${DS_JSON_API}"
          },
          "fields": [
            {
              "jsonPath": "$.body.statistics.media",
              "name": "Tens√£o M√©dia",
              "type": "number"
            }
          ],
          "method": "GET",
          "queryParams": "location=Rack B - Sala de Servidores",
          "refId": "A",
          "url": "${BASE_URL}/tensao/estatisticas",
          "urlPath": "/tensao/estatisticas"
        }
      ],
      "title": "Medidor de Tens√£o Atual",
      "type": "gauge"
    },
    {
      "datasource": {
        "type": "marcusolsson-json-datasource",
        "uid": "${DS_JSON_API}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": [],
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 8,
        "y": 22
      },
      "id": 8,
      "options": {
        "displayLabels": [
          "percent",
          "name"
        ],
        "legend": {
          "calcs": [],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true,
          "values": [
            "value"
          ]
        },
        "pieType": "donut",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "cacheDurationSeconds": 300,
          "datasource": {
            "type": "marcusolsson-json-datasource",
            "uid": "${DS_JSON_API}"
          },
          "fields": [
            {
              "jsonPath": "$.body.distribution.normal",
              "name": "Normal",
              "type": "number"
            },
            {
              "jsonPath": "$.body.distribution.picos_moderados",
              "name": "Picos Moderados",
              "type": "number"
            },
            {
              "jsonPath": "$.body.distribution.picos_criticos",
              "name": "Picos Cr√≠ticos",
              "type": "number"
            },
            {
              "jsonPath": "$.body.distribution.depressoes_moderadas",
              "name": "Depress√µes Moderadas",
              "type": "number"
            },
            {
              "jsonPath": "$.body.distribution.depressoes_criticas",
              "name": "Depress√µes Cr√≠ticas",
              "type": "number"
            }
          ],
          "method": "GET",
          "queryParams": "location=Rack B - Sala de Servidores",
          "refId": "A",
          "url": "${BASE_URL}/tensao/estatisticas",
          "urlPath": "/tensao/estatisticas"
        }
      ],
      "title": "Distribui√ß√£o de Qualidade de Tens√£o",
      "type": "piechart"
    },
    {
      "datasource": {
        "type": "marcusolsson-json-datasource",
        "uid": "${DS_JSON_API}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": [],
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 16,
        "y": 22
      },
      "id": 9,
      "options": {
        "displayLabels": [
          "percent",
          "name"
        ],
        "legend": {
          "calcs": [],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true,
          "values": [
            "value"
          ]
        },
        "pieType": "pie",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "cacheDurationSeconds": 300,
          "datasource": {
            "type": "marcusolsson-json-datasource",
            "uid": "${DS_JSON_API}"
          },
          "fields": [
            {
              "jsonPath": "$.body.by_type.picos",
              "name": "Apenas Picos",
              "type": "number"
            },
            {
              "jsonPath": "$.body.by_type.depressoes",
              "name": "Apenas Depress√µes",
              "type": "number"
            },
            {
              "jsonPath": "$.body.by_type.ambos",
              "name": "Ambos",
              "type": "number"
            }
          ],
          "method": "GET",
          "queryParams": "location=Rack B - Sala de Servidores",
          "refId": "A",
          "url": "${BASE_URL}/tensao/aparelhos-afetados/count",
          "urlPath": "/tensao/aparelhos-afetados/count"
        }
      ],
      "title": "Tipos de Problemas por Dispositivo",
      "type": "piechart"
    },
    {
      "datasource": {
        "type": "marcusolsson-json-datasource",
        "uid": "${DS_JSON_API}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "Tens√£o (V)",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "points",
            "fillOpacity": 50,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 6,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "always",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "volt"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Tens√£o"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "red",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 9,
        "w": 12,
        "x": 0,
        "y": 30
      },
      "id": 10,
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "max",
            "count"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      },
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "cacheDurationSeconds": 300,
          "datasource": {
            "type": "marcusolsson-json-datasource",
            "uid": "${DS_JSON_API}"
          },
          "fields": [
            {
              "jsonPath": "$.body.picos[*].ts",
              "name": "Time",
              "type": "time"
            },
            {
              "jsonPath": "$.body.picos[*].tensao",
              "name": "Tens√£o",
              "type": "number"
            }
          ],
          "method": "GET",
          "queryParams": "location=Rack B - Sala de Servidores",
          "refId": "A",
          "url": "${BASE_URL}/tensao/picos",
          "urlPath": "/tensao/picos"
        }
      ],
      "title": "Picos de Tens√£o Detectados",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "marcusolsson-json-datasource",
        "uid": "${DS_JSON_API}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "Tens√£o (V)",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "points",
            "fillOpacity": 50,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 6,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "always",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "volt"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Tens√£o"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "orange",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 9,
        "w": 12,
        "x": 12,
        "y": 30
      },
      "id": 11,
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "min",
            "count"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "asc"
        }
      },
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "cacheDurationSeconds": 300,
          "datasource": {
            "type": "marcusolsson-json-datasource",
            "uid": "${DS_JSON_API}"
          },
          "fields": [
            {
              "jsonPath": "$.body.depressoes[*].ts",
              "name": "Time",
              "type": "time"
            },
            {
              "jsonPath": "$.body.depressoes[*].tensao",
              "name": "Tens√£o",
              "type": "number"
            }
          ],
          "method": "GET",
          "queryParams": "location=Rack B - Sala de Servidores",
          "refId": "A",
          "url": "${BASE_URL}/tensao/depressoes",
          "urlPath": "/tensao/depressoes"
        }
      ],
      "title": "Depress√µes de Tens√£o Detectadas",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "marcusolsson-json-datasource",
        "uid": "${DS_JSON_API}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "auto",
            "cellOptions": {
              "type": "auto"
            },
            "footer": {
              "reducers": []
            },
            "inspect": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "device_id"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "Dispositivo"
              },
              {
                "id": "custom.width",
                "value": 250
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "total_incidents"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "Total Incidentes"
              },
              {
                "id": "custom.cellOptions",
                "value": {
                  "type": "color-background"
                }
              },
              {
                "id": "thresholds",
                "value": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "yellow",
                      "value": 10
                    },
                    {
                      "color": "orange",
                      "value": 30
                    },
                    {
                      "color": "red",
                      "value": 50
                    }
                  ]
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "picos"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "Picos"
              },
              {
                "id": "custom.cellOptions",
                "value": {
                  "type": "color-text"
                }
              },
              {
                "id": "color",
                "value": {
                  "mode": "continuous-RdYlGr"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "depressoes"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "Depress√µes"
              },
              {
                "id": "custom.cellOptions",
                "value": {
                  "type": "color-text"
                }
              },
              {
                "id": "color",
                "value": {
                  "mode": "continuous-RdYlGr"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "max_tensao"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "Tens√£o M√°xima (V)"
              },
              {
                "id": "decimals",
                "value": 1
              },
              {
                "id": "unit",
                "value": "volt"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "min_tensao"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "Tens√£o M√≠nima (V)"
              },
              {
                "id": "decimals",
                "value": 1
              },
              {
                "id": "unit",
                "value": "volt"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "last_incident"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "√öltimo Incidente"
              },
              {
                "id": "custom.width",
                "value": 180
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "severidade_maxima"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "Severidade"
              },
              {
                "id": "custom.cellOptions",
                "value": {
                  "type": "color-background"
                }
              },
              {
                "id": "mappings",
                "value": [
                  {
                    "options": {
                      "critico": {
                        "color": "red",
                        "index": 1,
                        "text": "CR√çTICO"
                      },
                      "moderado": {
                        "color": "yellow",
                        "index": 0,
                        "text": "Moderado"
                      }
                    },
                    "type": "value"
                  }
                ]
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "status"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "Status"
              },
              {
                "id": "custom.cellOptions",
                "value": {
                  "type": "color-background"
                }
              },
              {
                "id": "mappings",
                "value": [
                  {
                    "options": {
                      "atencao": {
                        "color": "orange",
                        "index": 1,
                        "text": "ATEN√á√ÉO"
                      },
                      "atencao_urgente": {
                        "color": "red",
                        "index": 2,
                        "text": "üö® URGENTE"
                      },
                      "monitorar": {
                        "color": "yellow",
                        "index": 0,
                        "text": "Monitorar"
                      }
                    },
                    "type": "value"
                  }
                ]
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 10,
        "w": 24,
        "x": 0,
        "y": 39
      },
      "id": 12,
      "options": {
        "cellHeight": "sm",
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "Total Incidentes"
          }
        ]
      },
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "cacheDurationSeconds": 300,
          "datasource": {
            "type": "marcusolsson-json-datasource",
            "uid": "${DS_JSON_API}"
          },
          "fields": [
            {
              "jsonPath": "$.body.devices[*].device_id",
              "name": "device_id",
              "type": "string"
            },
            {
              "jsonPath": "$.body.devices[*].total_incidents",
              "name": "total_incidents",
              "type": "number"
            },
            {
              "jsonPath": "$.body.devices[*].picos",
              "name": "picos",
              "type": "number"
            },
            {
              "jsonPath": "$.body.devices[*].depressoes",
              "name": "depressoes",
              "type": "number"
            },
            {
              "jsonPath": "$.body.devices[*].max_tensao",
              "name": "max_tensao",
              "type": "number"
            },
            {
              "jsonPath": "$.body.devices[*].min_tensao",
              "name": "min_tensao",
              "type": "number"
            },
            {
              "jsonPath": "$.body.devices[*].last_incident",
              "name": "last_incident",
              "type": "string"
            },
            {
              "jsonPath": "$.body.devices[*].severidade_maxima",
              "name": "severidade_maxima",
              "type": "string"
            },
            {
              "jsonPath": "$.body.devices[*].status",
              "name": "status",
              "type": "string"
            }
          ],
          "method": "GET",
          "queryParams": "location=Rack B - Sala de Servidores",
          "refId": "A",
          "url": "${BASE_URL}/tensao/aparelhos-afetados/list",
          "urlPath": "/tensao/aparelhos-afetados/list"
        }
      ],
      "title": "Dispositivos Afetados - Detalhamento",
      "type": "table"
    },
    {
      "datasource": {
        "type": "marcusolsson-json-datasource",
        "uid": "${DS_JSON_API}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 0,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              },
              {
                "color": "yellow",
                "value": 3
              },
              {
                "color": "orange",
                "value": 5
              },
              {
                "color": "red",
                "value": 8
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 6,
        "w": 8,
        "x": 0,
        "y": 49
      },
      "id": 13,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "center",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "value_and_name",
        "wideLayout": true
      },
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "cacheDurationSeconds": 300,
          "datasource": {
            "type": "marcusolsson-json-datasource",
            "uid": "${DS_JSON_API}"
          },
          "fields": [
            {
              "jsonPath": "$.body.devices_affected",
              "name": "Dispositivos Afetados",
              "type": "number"
            }
          ],
          "method": "GET",
          "queryParams": "location=Rack B - Sala de Servidores",
          "refId": "A",
          "url": "${BASE_URL}/tensao/aparelhos-afetados/count",
          "urlPath": "/tensao/aparelhos-afetados/count"
        }
      ],
      "title": "Dispositivos com Problemas",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "marcusolsson-json-datasource",
        "uid": "${DS_JSON_API}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              },
              {
                "color": "yellow",
                "value": 30
              },
              {
                "color": "orange",
                "value": 50
              },
              {
                "color": "red",
                "value": 70
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 6,
        "w": 8,
        "x": 8,
        "y": 49
      },
      "id": 14,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "center",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "value_and_name",
        "wideLayout": true
      },
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "cacheDurationSeconds": 300,
          "datasource": {
            "type": "marcusolsson-json-datasource",
            "uid": "${DS_JSON_API}"
          },
          "fields": [
            {
              "jsonPath": "$.body.percentage_affected",
              "name": "% Dispositivos Afetados",
              "type": "number"
            }
          ],
          "method": "GET",
          "queryParams": "location=Rack B - Sala de Servidores",
          "refId": "A",
          "url": "${BASE_URL}/tensao/aparelhos-afetados/count",
          "urlPath": "/tensao/aparelhos-afetados/count"
        }
      ],
      "title": "Percentual de Dispositivos Afetados",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "marcusolsson-json-datasource",
        "uid": "${DS_JSON_API}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [
            {
              "options": {
                "boa": {
                  "color": "green",
                  "index": 1,
                  "text": "BOA"
                },
                "critica": {
                  "color": "dark-red",
                  "index": 4,
                  "text": "CR√çTICA"
                },
                "excelente": {
                  "color": "dark-green",
                  "index": 0,
                  "text": "EXCELENTE"
                },
                "regular": {
                  "color": "yellow",
                  "index": 2,
                  "text": "REGULAR"
                },
                "ruim": {
                  "color": "orange",
                  "index": 3,
                  "text": "RUIM"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 6,
        "w": 8,
        "x": 16,
        "y": 49
      },
      "id": 15,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "center",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "value_and_name",
        "wideLayout": true
      },
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "cacheDurationSeconds": 300,
          "datasource": {
            "type": "marcusolsson-json-datasource",
            "uid": "${DS_JSON_API}"
          },
          "fields": [
            {
              "jsonPath": "$.body.quality.classification",
              "name": "Classifica√ß√£o de Qualidade",
              "type": "string"
            }
          ],
          "method": "GET",
          "queryParams": "location=Rack B - Sala de Servidores",
          "refId": "A",
          "url": "${BASE_URL}/tensao/estatisticas",
          "urlPath": "/tensao/estatisticas"
        }
      ],
      "title": "Classifica√ß√£o de Qualidade de Energia",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "marcusolsson-json-datasource",
        "uid": "${DS_JSON_API}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "auto",
            "cellOptions": {
              "type": "auto"
            },
            "footer": {
              "reducers": []
            },
            "inspect": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "ts"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "Timestamp"
              },
              {
                "id": "custom.width",
                "value": 180
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "tensao"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "Tens√£o (V)"
              },
              {
                "id": "decimals",
                "value": 1
              },
              {
                "id": "unit",
                "value": "volt"
              },
              {
                "id": "custom.cellOptions",
                "value": {
                  "type": "color-background"
                }
              },
              {
                "id": "thresholds",
                "value": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "red",
                      "value": 0
                    },
                    {
                      "color": "orange",
                      "value": 187
                    },
                    {
                      "color": "yellow",
                      "value": 201
                    },
                    {
                      "color": "green",
                      "value": 205
                    },
                    {
                      "color": "yellow",
                      "value": 231
                    },
                    {
                      "color": "orange",
                      "value": 238
                    },
                    {
                      "color": "red",
                      "value": 242
                    }
                  ]
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "device_id"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "Dispositivo"
              },
              {
                "id": "custom.width",
                "value": 250
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "status"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "Status"
              },
              {
                "id": "custom.cellOptions",
                "value": {
                  "type": "color-background"
                }
              },
              {
                "id": "mappings",
                "value": [
                  {
                    "options": {
                      "depressao": {
                        "color": "orange",
                        "index": 2,
                        "text": "Depress√£o"
                      },
                      "depressao_critica": {
                        "color": "dark-red",
                        "index": 4,
                        "text": "üî¥ Depress√£o Cr√≠tica"
                      },
                      "normal": {
                        "color": "green",
                        "index": 0,
                        "text": "Normal"
                      },
                      "pico": {
                        "color": "yellow",
                        "index": 1,
                        "text": "Pico"
                      },
                      "pico_critico": {
                        "color": "red",
                        "index": 3,
                        "text": "üî¥ Pico Cr√≠tico"
                      }
                    },
                    "type": "value"
                  }
                ]
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 10,
        "w": 24,
        "x": 0,
        "y": 55
      },
      "id": 16,
      "options": {
        "cellHeight": "sm",
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "Timestamp"
          }
        ]
      },
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "cacheDurationSeconds": 300,
          "datasource": {
            "type": "marcusolsson-json-datasource",
            "uid": "${DS_JSON_API}"
          },
          "fields": [
            {
              "jsonPath": "$.body.data[*].ts",
              "name": "ts",
              "type": "string"
            },
            {
              "jsonPath": "$.body.data[*].tensao",
              "name": "tensao",
              "type": "number"
            },
            {
              "jsonPath": "$.body.data[*].device_id",
              "name": "device_id",
              "type": "string"
            },
            {
              "jsonPath": "$.body.data[*].status",
              "name": "status",
              "type": "string"
            }
          ],
          "method": "GET",
          "queryParams": "location=Rack B - Sala de Servidores",
          "refId": "A",
          "url": "${BASE_URL}/tensao/geral",
          "urlPath": "/tensao/geral"
        }
      ],
      "title": "Hist√≥rico Completo de Medi√ß√µes de Tens√£o",
      "type": "table"
    },
    {
      "fieldConfig": {
        "defaults": {},
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 24,
        "x": 0,
        "y": 65
      },
      "id": 17,
      "options": {
        "code": {
          "language": "plaintext",
          "showLineNumbers": false,
          "showMiniMap": false
        },
        "content": "## üìä Como Interpretar este Dashboard\n\n### üéØ Valores de Refer√™ncia ANEEL:\n\n- **Tens√£o Nominal**: 220V\n- **Faixa Normal**: 201V - 231V (-10% a +5%)\n- **Depress√£o Cr√≠tica**: < 187V (-15%)\n- **Pico Cr√≠tico**: > 242V (+10%)\n\n### ‚ö° Classifica√ß√£o de Problemas:\n\n#### Picos de Tens√£o:\n- **Moderado** üü°: Entre 231V e 242V\n- **Cr√≠tico** üî¥: Acima de 242V\n- **Riscos**: Queima de componentes eletr√¥nicos, redu√ß√£o da vida √∫til de equipamentos\n\n#### Depress√µes de Tens√£o:\n- **Moderado** üü°: Entre 187V e 201V\n- **Cr√≠tico** üî¥: Abaixo de 187V\n- **Riscos**: Desligamentos inesperados, mau funcionamento, perda de dados\n\n### üéöÔ∏è Score de Qualidade:\n\n- **95-100**: üü¢ Excelente - Energia de qualidade premium\n- **85-94**: üü¢ Boa - Dentro dos padr√µes aceit√°veis\n- **70-84**: üü° Regular - Aten√ß√£o recomendada\n- **50-69**: üü† Ruim - Corre√ß√£o necess√°ria\n- **0-49**: üî¥ Cr√≠tica - A√ß√£o urgente requerida\n\n### üõ†Ô∏è A√ß√µes Recomendadas por Status:\n\n#### üö® Aten√ß√£o Urgente (Cr√≠tico):\n- Investiga√ß√£o imediata da causa raiz\n- Verificar estabilizadores e no-breaks\n- Avaliar necessidade de reguladores de tens√£o\n- Considerar isolamento do circuito problem√°tico\n\n#### ‚ö†Ô∏è Aten√ß√£o (Muitos incidentes):\n- Monitoramento intensivo\n- Planejamento de manuten√ß√£o preventiva\n- An√°lise de padr√µes de ocorr√™ncia\n\n#### üëÅÔ∏è Monitorar (Poucos incidentes):\n- Acompanhamento de rotina\n- Registro para an√°lise de tend√™ncias\n- Manuten√ß√£o preventiva programada\n\n### üí° Boas Pr√°ticas:\n\n1. **Estabilizadores de tens√£o**: Protegem contra varia√ß√µes moderadas\n2. **No-breaks (UPS)**: Protegem contra quedas e picos\n3. **Reguladores de tens√£o**: Mant√™m tens√£o constante em ambientes cr√≠ticos\n4. **Aterramento adequado**: Fundamental para qualidade de energia\n5. **Manuten√ß√£o preventiva**: Inspe√ß√£o regular das instala√ß√µes el√©tricas\n\n### üìà Impactos Financeiros:\n\n- **Equipamentos danificados**: Custos de substitui√ß√£o\n- **Downtime**: Perda de produtividade e receita\n- **Manuten√ß√£o corretiva**: 3-5x mais cara que preventiva\n- **Multas regulat√≥rias**: ANEEL pode aplicar penalidades em casos graves",
        "mode": "markdown"
      },
      "pluginVersion": "12.2.1",
      "title": "Guia de Interpreta√ß√£o e A√ß√µes",
      "type": "text"
    }
  ],
  "preload": false,
  "refresh": "5m",
  "schemaVersion": 42,
  "tags": [
    "energia",
    "tensao",
    "qualidade",
    "monitoramento"
  ],
  "templating": {
    "list": [
      {
        "current": {
          "selected": false,
          "text": "JSON API",
          "value": "cf2jywd1gvo5cc"
        },
        "hide": 0,
        "includeAll": false,
        "label": "Datasource",
        "multi": false,
        "name": "DS_JSON_API",
        "options": [],
        "query": "marcusolsson-json-datasource",
        "queryValue": "",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "type": "datasource"
      },
      {
        "current": {
          "selected": false,
          "text": "https://your-api-endpoint.com",
          "value": "https://your-api-endpoint.com"
        },
        "hide": 0,
        "label": "Base URL",
        "name": "BASE_URL",
        "options": [
          {
            "selected": true,
            "text": "https://your-api-endpoint.com",
            "value": "https://your-api-endpoint.com"
          }
        ],
        "query": "https://your-api-endpoint.com",
        "skipUrlSync": false,
        "type": "textbox"
      }
    ]
  },
  "time": {
    "from": "now-24h",
    "to": "now"
  },
  "timepicker": {
    "refresh_intervals": [
      "5s",
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ]
  },
  "timezone": "browser",
  "title": "An√°lise de Qualidade de Tens√£o El√©trica",
  "uid": "tensao-qualidade",
  "version": 1
}
